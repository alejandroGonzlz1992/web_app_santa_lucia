<!--Inherit-->
{% extends 'base/index.html' %}

<!--Page Title-->
{% block title %}
    <title>Ferretería Santa Lucía | Perfil Usuario</title>
{% endblock %}

<!--sidebar menu-->
{% block sidebar %}
<ul class="sidebar-nav">
    <li class="sidebar-header"> <b>PRINCIPAL</b> </li>
    <li class="sidebar-item active">
        <a class="sidebar-link" href="{{url_for('getting_app_home_page_endpoint')}}">
            <i class="align-middle" data-feather="settings"></i>
            <span class="align-middle">Regresar</span>
        </a>
    </li>
</ul>
{% endblock %}

<!--ops bar-->
{% block ops_bar %}
    {% if params.fg == "_password" %}
        <div class="px-1 pt-2">
            <div class="alert alert-info d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
                    <use xlink:href="#info-fill"/>
                </svg>
                <div>{{params.ops._profile._credentials}}</div>
                <div class="col text-end">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        </div>
    {% elif  params.fg == "_contact_info" %}
        <div class="px-1 pt-2">
            <div class="alert alert-info d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
                    <use xlink:href="#info-fill"/>
                </svg>
                <div>{{params.ops._profile._info}}</div>
                <div class="col text-end">
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}

<!--login form-->
{% block container %}

    <div class="mb-3">
        <div class="row">
            <!--Left Main Menu-->
            <div class="col-md-8 col-xl-4">
                <div class="card shadow-sm mb-3">
                    <div class="card-body text-center">
                        <!-- Profile Avatar -->
                        <img src="{{url_for('static', path='static/ap_img/avatars/avatar-1-default.png')}}"
                             alt="Profile Base"
                             class="img-fluid rounded-circle mb-3"
                             width="120" height="120" />

                        <!-- Personal Details -->
                        <h5 class="fw-semibold mb-1">{{ params.record._name }} {{ params.record._lastname }}
                            {{ params.record._lastname2 }}</h5>
                        <p class="text-muted mb-1" style="font-size: 0.95rem;">
                            {{ params.record._rol_name }} | {{ params.record._rol_type }}</p>
                        <p class="text-muted mb-2" style="font-size: 0.95rem;">{{ params.record._dept_name }}</p>

                        <!-- Divider -->
                        <hr class="my-3">

                        <!-- Identity Info -->
                        <div class="text-start" style="font-size: 0.95rem;">
                            <p class="mb-2"><strong>Cédula:</strong> {{ params.record._ident }}</p>
                            <p class="mb-2"><strong>Fecha Contratación:</strong> {{ params.record._hire_date }}</p>
                        </div>

                        <!-- Divider -->
                        <hr class="my-3">

                        <!-- Contact Info -->
                        <div class="text-start" style="font-size: 0.95rem;">
                            <h6 class="text-uppercase text-muted mb-2"><b>Contacto</b></h6>
                            <p class="mb-2">📩 Correo - gonzjoalejandro92@gmail.com</p>
                            <p class="mb-2">📱 Móvil - 88083369</p>

                            <h6 class="text-uppercase text-muted mb-2"><b>Domicilio</b></h6>
                            <p class="mb-2">🏠 {{ params.address._prov_name }}, {{ params.address._cant_name }},
                                {{ params.address._dist_name }}</p>
                            <p class="mb-2">📪 Código Postal - {{ params.address._postal_code }}</p>
                            <p class="mb-0">ℹ️ {{ params.address._address_detail }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!--Right Main Menu-->
            <div class="col-md-6 col-xl-8">
                <div class="card mb-3">
                    <div class="card-body text-start">
                        <h4 class="card-title mb-0">Ajustes de información</h4>
                        <div class="card py-3 m-2">
                            <div class="d-flex align-items-start">
                                <div class="flex-grow-1">
                                    <ul class="list-unstyled mb-0">
                                        <li class="mb-3">
                                            <span data-feather="tablet" class="feather-lg me-1"
                                                  style="color: cadetblue;"></span>
                                            <a href="{{url_for('getting_app_profile_address_endpoint')}}">
                                                ACTUALIZAR INFORMACION CONTACTO </a>
                                        </li>
                                        <li class="mb-3">
                                            <span data-feather="lock" class="feather-lg me-1"
                                                  style="color: cadetblue;"></span>
                                            <a href="{{url_for('getting_app_profile_password_endpoint')}}">
                                                ACTUALIZAR CONTRASENA </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <h4 class="card-title mb-0">Consultas</h4>
                        <div class="card py-3 m-2">
                            <div class="d-flex align-items-start">
                                <div class="flex-grow-1">
                                    <ul class="list-unstyled mb-0">
                                        <li class="mb-3">
                                            <span data-feather="loader" class="feather-lg me-1"
                                                  style="color: cadetblue;"></span>
                                            <a href="{{url_for('getting_app_profile_vacation_endpoint')}}">
                                                REGISTRO VACACIONES </a>
                                        </li>
                                        <li class="mb-3">
                                            <span data-feather="clock" class="feather-lg me-1"
                                                  style="color: cadetblue;"></span>
                                            <a href="{{url_for('getting_app_profile_extra_hours_endpoint')}}">
                                                REGISTRO HORAS EXTRA </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

<!--local .js scripts -->
{% block scripts %}
    {{ super() }}
{% endblock %}
